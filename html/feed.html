<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
// Add this to the <script> section of your feed.html
import { getFirestore, collection, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const db = getFirestore();

function loadUniversalStream() {
    const streamContainer = document.getElementById('social-stream');
    const q = query(collection(db, "posts"), orderBy("timestamp", "desc"));

   onSnapshot(q, (snapshot) => {
        streamContainer.innerHTML = ''; // Clear for fresh sync
        snapshot.forEach((doc) => {
            const data = doc.data();
            const postHTML = `
              // Inside your onSnapshot loop in feed.html:
const resonations = data.resonations || 0;

const postHTML = `
    <div class="elementa-glass p-6 rounded-3xl mb-6 page-transition">
        <div class="flex gap-6 mt-6 pt-4 border-t border-white/5">
            <button onclick="resonate('${doc.id}')" class="flex items-center gap-2 text-xs font-black text-slate-400 hover:text-[#f1c40f] transition-colors">
                <span class="text-lg">âš¡</span> 
                <span>${resonations} RESONATIONS</span>
            </button>
            <button class="flex items-center gap-2 text-xs font-black text-slate-400 hover:text-[#f1c40f]">
                <span class="text-lg">ğŸ’¬</span> 
                <span>LINK</span>
            </button>
        </div>
    </div>
`;
                    <p class="text-slate-200 leading-relaxed text-sm">${data.content}</p>
                    ${data.media ? `<img src="${data.media}" class="mt-4 rounded-2xl w-full object-cover max-h-96 border border-white/5">` : ''}
                    <div class="flex gap-6 mt-6 pt-4 border-t border-white/5">
                        <button class="text-xs font-bold text-slate-500 hover:text-[#f1c40f]">âš¡ RESONATE</button>
                        <button class="text-xs font-bold text-slate-500 hover:text-[#f1c40f]">ğŸ’¬ LINK</button>
                    </div>
                </div>
            `;
            streamContainer.insertAdjacentHTML('beforeend', postHTML);
        });
    });
}
    
</head>
<body class="bg-[#0f172a] text-white">
    <div class="flex h-screen">
        <nav class="w-64 border-r border-white/10 p-6 flex flex-col gap-4">
            <a href="feed.html" class="text-[#f1c40f] font-bold">ğŸ  Stream</a>
            <a href="messages.html" class="hover:text-[#f1c40f]">ğŸ’¬ Neural Link</a>
            <a href="vault.html" class="hover:text-[#f1c40f]">ğŸ“‚ Data Vault</a>
        </nav>

        <main class="flex-1 overflow-y-auto p-8">
            <div class="max-w-2xl mx-auto">
                <div class="glass p-6 rounded-3xl mb-8">
                    <textarea id="post-input" placeholder="What's happening in the ecosystem?" class="w-full bg-transparent border-none outline-none text-lg resize-none h-20"></textarea>
                    <div class="flex justify-between items-center border-t border-white/5 pt-4">
                        <input type="file" id="media-upload" class="hidden" multiple>
                        <button onclick="document.getElementById('media-upload').click()">ğŸ–¼ï¸ Media</button>
                        <button class="bg-[#f1c40f] text-black px-8 py-2 rounded-full font-bold">Post</button>
                    </div>
                </div>
                <div id="social-stream" class="space-y-6"></div>
            </div>
        </main>
    </div>
</body>
</html>
